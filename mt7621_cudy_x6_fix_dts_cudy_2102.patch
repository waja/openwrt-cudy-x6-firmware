diff --git a/target/linux/ramips/dts/mt7621.dtsi b/target/linux/ramips/dts/mt7621.dtsi
index 09124072bd..7636f9d800 100644
--- a/target/linux/ramips/dts/mt7621.dtsi
+++ b/target/linux/ramips/dts/mt7621.dtsi
@@ -9,10 +9,6 @@
 	#size-cells = <1>;
 	compatible = "mediatek,mt7621-soc";
 
-	aliases {
-		serial0 = &uartlite;
-	};
-
 	cpus {
 		#address-cells = <1>;
 		#size-cells = <0>;
@@ -37,6 +33,10 @@
 		compatible = "mti,cpu-interrupt-controller";
 	};
 
+	aliases {
+		serial0 = &uartlite;
+	};
+
 	chosen {
 		bootargs = "console=ttyS0,57600";
 	};
@@ -56,16 +56,16 @@
 		clock-frequency = <50000000>;
 	};
 
-	palmbus: palmbus@1e000000 {
+	palmbus: palmbus@1E000000 {
 		compatible = "palmbus";
-		reg = <0x1e000000 0x100000>;
-		ranges = <0x0 0x1e000000 0x0fffff>;
+		reg = <0x1E000000 0x100000>;
+		ranges = <0x0 0x1E000000 0x0FFFFF>;
 
 		#address-cells = <1>;
 		#size-cells = <1>;
 
-		sysc: syscon@0 {
-			compatible = "mtk,mt7621-sysc", "syscon";
+		sysc: sysc@0 {
+			compatible = "mtk,mt7621-sysc";
 			reg = <0x0 0x100>;
 		};
 
@@ -136,11 +136,21 @@
 			interrupts = <GIC_SHARED 5 IRQ_TYPE_LEVEL_HIGH>;
 		};
 
-		memc: syscon@5000 {
-			compatible = "mtk,mt7621-memc", "syscon";
+		memc: memc@5000 {
+			compatible = "mtk,mt7621-memc";
 			reg = <0x5000 0x1000>;
 		};
 
+		cpc: cpc@1fbf0000 {
+			compatible = "mtk,mt7621-cpc";
+			reg = <0x1fbf0000 0x8000>;
+		};
+
+		mc: mc@1fbf8000 {
+			compatible = "mtk,mt7621-mc";
+			reg = <0x1fbf8000 0x8000>;
+		};
+
 		uartlite: uartlite@c00 {
 			compatible = "ns16550a";
 			reg = <0xc00 0x100>;
@@ -217,7 +227,7 @@
 			reset-names = "dma";
 
 			interrupt-parent = <&gic>;
-			interrupts = <0 13 IRQ_TYPE_LEVEL_HIGH>;
+			interrupts = <0 13 4>;
 
 			#dma-cells = <1>;
 			#dma-channels = <16>;
@@ -234,7 +244,7 @@
 			reset-names = "hsdma";
 
 			interrupt-parent = <&gic>;
-			interrupts = <0 11 IRQ_TYPE_LEVEL_HIGH>;
+			interrupts = <0 11 4>;
 
 			#dma-cells = <1>;
 			#dma-channels = <1>;
@@ -345,11 +355,11 @@
 		#clock-cells = <1>;
 	};
 
-	sdhci: sdhci@1e130000 {
+	sdhci: sdhci@1E130000 {
 		status = "disabled";
 
 		compatible = "ralink,mt7620-sdhci";
-		reg = <0x1e130000 0x4000>;
+		reg = <0x1E130000 0x4000>;
 
 		interrupt-parent = <&gic>;
 		interrupts = <GIC_SHARED 20 IRQ_TYPE_LEVEL_HIGH>;
@@ -358,7 +368,7 @@
 		pinctrl-0 = <&sdhci_pins>;
 	};
 
-	xhci: xhci@1e1c0000 {
+	xhci: xhci@1E1C0000 {
 		#address-cells = <1>;
 		#size-cells = <0>;
 
@@ -416,16 +426,6 @@
 		clock-frequency = <125000000>;
 	};
 
-	cpc: cpc@1fbf0000 {
-		compatible = "mti,mips-cpc";
-		reg = <0x1fbf0000 0x8000>;
-	};
-
-	mc: mc@1fbf8000 {
-		compatible = "mti,mips-cdmm";
-		reg = <0x1fbf8000 0x8000>;
-	};
-
 	nand: nand@1e003000 {
 		status = "disabled";
 
@@ -438,6 +438,13 @@
 		clock-names = "nfi_clk";
 	};
 
+	ethsys: syscon@1e000000 {
+		compatible = "mediatek,mt7621-ethsys",
+			     "syscon";
+		reg = <0x1e000000 0x1000>;
+		#clock-cells = <1>;
+	};
+
 	ethernet: ethernet@1e100000 {
 		compatible = "mediatek,mt7621-eth";
 		reg = <0x1e100000 0x10000>;
@@ -454,10 +461,7 @@
 		interrupt-parent = <&gic>;
 		interrupts = <GIC_SHARED 3 IRQ_TYPE_LEVEL_HIGH>;
 
-		mediatek,ethsys = <&sysc>;
-
-		pinctrl-names = "default";
-		pinctrl-0 = <&mdio_pins>, <&rgmii1_pins>, <&rgmii2_pins>;
+		mediatek,ethsys = <&ethsys>;
 
 		gmac0: mac@0 {
 			compatible = "mediatek,eth-mac";
@@ -484,17 +488,17 @@
 
 			switch0: switch@1f {
 				compatible = "mediatek,mt7621";
+				#address-cells = <1>;
+				#size-cells = <0>;
 				reg = <0x1f>;
 				mediatek,mcm;
 				resets = <&rstctrl 2>;
 				reset-names = "mcm";
-				interrupt-controller;
-				#interrupt-cells = <1>;
-				interrupts = <GIC_SHARED 23 IRQ_TYPE_LEVEL_HIGH>;
 
 				ports {
 					#address-cells = <1>;
 					#size-cells = <0>;
+					reg = <0>;
 
 					port@0 {
 						status = "disabled";
@@ -535,7 +539,6 @@
 						fixed-link {
 							speed = <1000>;
 							full-duplex;
-							pause;
 						};
 					};
 				};
@@ -543,12 +546,19 @@
 		};
 	};
 
+	gsw: gsw@1e110000 {
+		compatible = "mediatek,mt7621-gsw";
+		reg = <0x1e110000 0x8000>;
+		interrupt-parent = <&gic>;
+		interrupts = <GIC_SHARED 23 IRQ_TYPE_LEVEL_HIGH>;
+	};
+
 	pcie: pcie@1e140000 {
 		compatible = "mediatek,mt7621-pci";
-		reg = <0x1e140000 0x100>, /* host-pci bridge registers */
-		      <0x1e142000 0x100>, /* pcie port 0 RC control registers */
-		      <0x1e143000 0x100>, /* pcie port 1 RC control registers */
-		      <0x1e144000 0x100>; /* pcie port 2 RC control registers */
+		reg = <0x1e140000 0x100     /* host-pci bridge registers */
+			0x1e142000 0x100    /* pcie port 0 RC control registers */
+			0x1e143000 0x100    /* pcie port 1 RC control registers */
+			0x1e144000 0x100>;  /* pcie port 2 RC control registers */
 		#address-cells = <3>;
 		#size-cells = <2>;
 
@@ -557,8 +567,11 @@
 
 		device_type = "pci";
 
-		ranges = <0x02000000 0 0x00000000 0x60000000 0 0x10000000>, /* pci memory */
-			 <0x01000000 0 0x00000000 0x1e160000 0 0x00010000>; /* io space */
+		bus-range = <0 255>;
+		ranges = <
+			0x02000000 0 0x00000000 0x60000000 0 0x10000000 /* pci memory */
+			0x01000000 0 0x00000000 0x1e160000 0 0x00010000 /* io space */
+		>;
 
 		interrupt-parent = <&gic>;
 		interrupts = <GIC_SHARED 4 IRQ_TYPE_LEVEL_HIGH
@@ -567,9 +580,9 @@
 
 		status = "disabled";
 
-		resets = <&rstctrl 24>, <&rstctrl 25>, <&rstctrl 26>;
+		resets = <&rstctrl 24 &rstctrl 25 &rstctrl 26>;
 		reset-names = "pcie0", "pcie1", "pcie2";
-		clocks = <&clkctrl 24>, <&clkctrl 25>, <&clkctrl 26>;
+		clocks = <&clkctrl 24 &clkctrl 25 &clkctrl 26>;
 		clock-names = "pcie0", "pcie1", "pcie2";
 		phys = <&pcie0_phy 1>, <&pcie2_phy 0>;
 		phy-names = "pcie-phy0", "pcie-phy2";
@@ -580,24 +593,24 @@
 			reg = <0x0000 0 0 0 0>;
 			#address-cells = <3>;
 			#size-cells = <2>;
-			device_type = "pci";
 			ranges;
+			bus-range = <0x00 0xff>;
 		};
 
 		pcie1: pcie@1,0 {
 			reg = <0x0800 0 0 0 0>;
 			#address-cells = <3>;
 			#size-cells = <2>;
-			device_type = "pci";
 			ranges;
+			bus-range = <0x00 0xff>;
 		};
 
 		pcie2: pcie@2,0 {
 			reg = <0x1000 0 0 0 0>;
 			#address-cells = <3>;
 			#size-cells = <2>;
-			device_type = "pci";
 			ranges;
+			bus-range = <0x00 0xff>;
 		};
 	};
 
diff --git a/target/linux/ramips/dts/mt7621_cudy_x6.dts b/target/linux/ramips/dts/mt7621_cudy_x6.dts
index ebb2149172..a43917e33d 100644
--- a/target/linux/ramips/dts/mt7621_cudy_x6.dts
+++ b/target/linux/ramips/dts/mt7621_cudy_x6.dts
@@ -2,19 +2,16 @@
 
 #include "mt7621.dtsi"
 
-#include <dt-bindings/gpio/gpio.h>
 #include <dt-bindings/input/input.h>
+#include <dt-bindings/gpio/gpio.h>
 
 / {
 	compatible = "cudy,x6", "mediatek,mt7621-soc";
 	model = "CUDY X6";
 
-	aliases {
-		led-boot = &led_internet_blue;
-		led-failsafe = &led_internet_blue;
-		led-running = &led_internet_blue;
-		led-upgrade = &led_internet_blue;
-		label-mac-device = &gmac0;
+	memory@0 {
+		device_type = "memory";
+		reg = <0x0 0x10000000>;
 	};
 
 	chosen {
@@ -40,13 +37,13 @@
 	leds {
 		compatible = "gpio-leds";
 
-		led_internet_blue: internet_blue {
-			label = "blue:internet";
-			gpios = <&gpio 15 GPIO_ACTIVE_LOW>;
+		led_blue: blue {
+			label = "blue";
+			gpios = <&gpio 15 GPIO_ACTIVE_HIGH>;
 		};
 
-		internet_red {
-			label = "red:internet";
+		led_red: red {
+			label = "red";
 			gpios = <&gpio 16 GPIO_ACTIVE_LOW>;
 		};
 	};
@@ -59,7 +56,8 @@
 	flash@0 {
 		compatible = "jedec,spi-nor";
 		reg = <0>;
-		spi-max-frequency = <50000000>;
+		spi-max-frequency = <80000000>;
+		m25p,fast-read;
 
 		partitions {
 			compatible = "fixed-partitions";
@@ -81,32 +79,29 @@
 			factory: partition@40000 {
 				label = "factory";
 				reg = <0x40000 0x10000>;
-				read-only;
-			};
-
-			partition@50000 {
-				compatible = "denx,uimage";
-				label = "firmware";
-				reg = <0x50000 0x1f80000>;
 			};
 
-			partition@1fd0000 {
+			debug: partition@1fd0000 {
 				label = "debug";
 				reg = <0x1fd0000 0x10000>;
-				read-only;
 			};
 
-			partition@1fe0000 {
+			backup: partition@1fe0000 {
 				label = "backup";
 				reg = <0x1fe0000 0x10000>;
-				read-only;
 			};
 
-			bdinfo: partition@1ff0000 {
+			bdinfo: partition@ff0000 {
 				label = "bdinfo";
 				reg = <0x1ff0000 0x10000>;
 				read-only;
 			};
+
+			firmware: partition@50000 {
+				compatible = "denx,uimage";
+				label = "firmware";
+				reg = <0x50000 0x1f80000>;
+			};
 		};
 	};
 };
@@ -124,8 +119,7 @@
 };
 
 &gmac0 {
-	nvmem-cells = <&macaddr_bdinfo_de00>;
-	nvmem-cell-names = "mac-address";
+	mtd-mac-address = <&bdinfo 0xDE00>;
 };
 
 &switch0 {
@@ -153,26 +147,14 @@
 		port@4 {
 			status = "okay";
 			label = "wan";
-			nvmem-cells = <&macaddr_bdinfo_de00>;
-			nvmem-cell-names = "mac-address";
-			mac-address-increment = <1>;
+			mtd-mac-address = <&factory 0xA>;
 		};
 	};
 };
 
 &state_default {
 	gpio {
-		groups = "uart3", "jtag";
+		groups = "i2c", "wdt";
 		function = "gpio";
 	};
 };
-
-&bdinfo {
-	compatible = "nvmem-cells";
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	macaddr_bdinfo_de00: macaddr@de00 {
-		reg = <0xde00 0x6>;
-	};
-};
